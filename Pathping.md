# Pathping

 
#### Синтаксис:

``` 
PATHPING [-g <список_узлов>] [-h <число_прыжков>] [-i <адрес>] [-n]
                [-p <пауза>] [-q <число_запросов>] [-w <таймаут>]
                [-4] [-6] <конечный_узел>
```
#### Описание:

Предоставляет сведения о задержке сети и сетевой утрате в промежуточных прыжках между источником и назначением. **pathping** отправляет несколько сообщений эхо-запросов каждому маршрутизатору между источником и назначением за определенный период времени, а затем выполняет вычисление результатов на основе пакетов, возвращенных каждым маршрутизатором. Поскольку **pathping** отображает степень потери пакетов на любом конкретном маршрутизаторе или в связи, можно определить, какие маршрутизаторы или подсети могут столкнуться с проблемами сети.

**pathping** выполняет эквивалент команды **tracert** , определяя маршрутизаторы в пути. Затем они периодически отправляют пакеты проверки связи на все маршрутизаторы за указанный период времени и вычисляют статистику на основе числа, возвращенного из каждой. Используется без параметров, команда **pathping** выводит справку.

#### Cписок параметров:

	-g <список_узлов>    Свободный выбор маршрута по списку узлов;
    -h <число_прыжков>   Максимальное число прыжков при поиске узла;
    -i <адрес>           Использовать указанный адрес источника;
    -n                   Не определять имена узлов по адресам;
    -p <пауза>           Пауза между отправками пакетов (мсек);
    -q <число_запросов>  Число запросов при каждом прыжке;
    -w <таймаут>         Время ожидания каждого ответа (мсек);
    -4                   Обязательное использование протокола IPv4;
    -6                   Обязательное использование протокола IPv6.
 
 #### Примечания:
 * параметры **pathping** чувствительны к регистру.
 
 * Чтобы избежать перегрузки сети, следует отправлять пакеты проверки связи с достаточной скоростью.
 
 * Чтобы избежать последствий потери нагрузки, не следует слишком часто отсылать сообщения проверки связи.

 * При использовании параметра **/p** команды ping отправляются по отдельности на каждый промежуточный прыжок. По этой причине интервал между двумя проверками связи, отправляемыми на один прыжок, — это умножение периода на число прыжков.
 
 * При использовании параметра **/w** можно параллельно отправлять несколько пакетов проверки связи. По этой причине количество времени, указанное в параметре timeout , не ограничивается временем, указанным в параметре period для ожидания между проверками связи.
 
* Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.

 #### Примеры написания :
 
 * pathping
 
 * pathping /?
 
 * pathping <сайт>
 
 * pathping -n <сайт>
 
 * pathping -n -w <таймаут> <сайт>
 
 #### Пример:
 ``` C:\Users\cfif1>pathping /n ya.ru

Трассировка маршрута к ya.ru [87.250.250.242]
с максимальным числом переходов 30:
  0  192.168.1.70
  1  192.168.1.254
  2  10.150.0.1
  3  10.109.11.6
  4  212.188.1.5
  5  195.34.53.206
  6  195.34.36.30
  7  87.250.250.242

Подсчет статистики за: 175 сек. ...
           Исходный узел     Маршрутный узел
Прыжок  RTT   Утер./Отпр.   %   Утер./Отпр.  %   Адрес
  0                                           192.168.1.70
                                0/ 100 =  0%   |
  1    0мс     1/ 100 =  1%     1/ 100 =  1%  192.168.1.254
                                0/ 100 =  0%   |
  2    3мс     0/ 100 =  0%     0/ 100 =  0%  10.150.0.1
                                0/ 100 =  0%   |
  3    3мс     0/ 100 =  0%     0/ 100 =  0%  10.109.11.6
                                0/ 100 =  0%   |
  4    4мс     0/ 100 =  0%     0/ 100 =  0%  212.188.1.5
                                0/ 100 =  0%   |
  5    5мс     0/ 100 =  0%     0/ 100 =  0%  195.34.53.206
                                0/ 100 =  0%   |
  6   12мс     0/ 100 =  0%     0/ 100 =  0%  195.34.36.30
                                1/ 100 =  1%   |
  7   11мс     1/ 100 =  1%     0/ 100 =  0%  87.250.250.242

Трассировка завершена. 
```

При запуске **pathping** в первом списке результатов отображается путь. Это тот же путь, который отображается с помощью команды **tracert** . Далее в течение приблизительно 3 минут отображается сообщение о занятости (время зависит от числа прыжков). В течение этого времени сведения собираются со всех перечисленных ранее маршрутизаторов и из связей между ними. По окончании этого периода результаты теста отобразятся.

В приведенном выше примере отчета **этот узел/ссылка, потерянные/отправленные = PCT** и **Address** Columns показывает, что ссылка между 195.34.53.206 и 195.34.36.50 удаляет 1% пакетов. Маршрутизатор на 1 прыжке также отбрасывает пакеты, адресованные ему, но эта утрата не влияет на возможность пересылки трафика, который не адресован ему.

Показатели потерь, отображаемые для ссылок, обозначенные как вертикальная черта ( **|** ) в столбце **Address** , указывают на перегрузку ссылок, которая вызывает потери пакетов, пересылаемых по пути. Показатели потерь, отображаемые для маршрутизаторов (идентифицируемые их IP-адреса), указывают на то, что эти маршрутизаторы могут быть перегружены.

